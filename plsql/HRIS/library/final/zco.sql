SET PAGES       0
SET FEEDBACK  OFF
SET VERIFY    OFF
SET ECHO      OFF
SET LINESIZE  900
SET SCAN       ON
SET TRIMSPOOL  ON

COLUMN line NOPRINT

SPOOL &&1..sql

SELECT 'SET SCAN OFF'      FROM dual;
SELECT 'CREATE OR REPLACE' FROM dual;

SELECT DISTINCT line, text
  FROM all_source
 WHERE name = UPPER('&&1')
   AND type IN ('FUNCTION', 'PROCEDURE')
 ORDER BY line;

SELECT '/'           FROM dual;
SELECT 'SHOW ERRORS' FROM dual;

SPOOL OFF;

SET VERIFY    ON
SET FEEDBACK  ON
SET TRIMSPOOL OFF
SET LINESIZE 100
SET PAGES 60
SET SCAN      ON
